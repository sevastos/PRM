'use strict';

var exec = require('child_process').exec;


/**
 * @param  {String}   cmd
 * @param  {Function} next @(error, stdout, stderr)
 */
function execSync(cmd, next){
  exec(cmd, function (error, stdout, stderr) {
    if (error) {
      console.error(
        'Error while `' + cmd + '`.'+
        '\n\tError:', error,
        '\n\tStdErr:', stderr,
        '\n\tStdOut:', stdout
      );
    }
    next(stdout, error, stderr);
  });
}

/**
 * Low level interface to gphoto2
 * @type {Object}
 */
var gphoto = {

  getCameras: function() {
    execSync('gphoto2 --auto-detect', function(res){
      console.log(res);
    });    
  },




}



module.exports = gphoto;
